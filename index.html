<!DOCTYPE html>
<html><head><meta charset="utf-8"><meta charset="utf-8"><meta name="viewport" content="width=device-width, maximum-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Hoplon, a ClojureScript Web Framework</title><meta name="description" content="ClojureScript Web Framework"><link rel="shortcut icon" href="/images/logos/hoplon-favicon.png"><link rel="apple-touch-icon" href="/images/logos/hoplon-favicon.png"><style>body{display:none;}</style><link rel="stylesheet" href="css/syntax.css"><link rel="stylesheet" href="css/main.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                         m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-68102137-1', 'auto');
ga('send', 'pageview');
</script></head><body class="home"><div class="page" id="page"><header><div class="nav-mobile"><div class="nav-mobile-content"></div></div><nav><div class="ui-cols"><div class="ui-col-10 ui-skip-1"><div class="header-logo"><a shape="rect" href="/" style="background-image: url(images/logos/hoplon-logo.png);">Adzerk</a></div><div class="header-links"><a shape="rect" href="http://hoplon.discoursehosting.net/">Discourse</a><a shape="rect" href="http://webchat.freenode.net/?channels=hoplon">IRC</a><a shape="rect" href="http://clojurians.net/">Slack</a><a shape="rect" href="https://github.com/hoplon/hoplon/wiki">Wiki</a><a shape="rect" href="https://github.com/hoplon">Code</a></div><div class="header-menu"><a shape="rect" href="#menu"></a></div></div></div></nav><div class="header-promo"><div class="ui-cols"><div class="ui-col-10 ui-skip-1"><div class="header-promo-content"><div class="header-promo-logo"><a shape="rect" href="http://hoplon.io"><img src="/images/logos/hoplon-logo.png" alt="Hoplon, a ClojureScript Web Framework"></a></div><div class="header-promo-text"><h1>Hoplon</h1><h3>ClojureScript Web Framework</h3><p><a shape="rect" class="ui-action ui-action-large" href="https://github.com/hoplon/hoplon/wiki/Get-Started">Get Started</a></p></div></div></div></div></div></header><main id="content"><div class="post"><div class="ui-cols"><div class="ui-col-10 ui-skip-1"><div class="post-body"><div class="promo"><div><h2>Clojure and ClojureScript, everywhere.</h2><p>Hoplon is a set of <a shape="rect" href="http://clojure.org">Clojure</a> and <a shape="rect" href="https://github.com/clojure/clojurescript">ClojureScript</a> libraries that pave over the web's idiosyncrasies and present a simpler way to design and build single-page web applications. <a shape="rect" href="https://github.com/hoplon/hoplon/wiki">Learn more on our wiki</a>.</p></div></div><div class="features"><ul><li><img alt="Custom Elements icon" src="images/graphics/custom-elements.png"><span><strong>Custom HTML elements are regular functions</strong> and can be created and composed functionally with <a shape="rect" href="https://github.com/hoplon/hoplon/wiki/HLisp">HLisp</a></span></li><li><img alt="Spreadsheet Icon" src="images/graphics/spreadsheet.png"><span><strong>Spreadsheet-like dataflow</strong> with the <a shape="rect" href="https://github.com/hoplon/javelin">Javelin</a> ClojureScript library. Intuitively model reactive behavior using cells and formulas.</span></li><li><img alt="Castra Icon" src="images/graphics/uncoupled.png"><span><strong>Interact with the server</strong> with the <a shape="rect" href="https://github.com/hoplon/castra">Castra</a> Clojure and ClojureScript library. Define functions on the server, call them from the client.</span></li></ul></div><div class="demos" style="font-size: 0.9em;"><div><h4>A simple custom element</h4><p>Elements and custom elements are regular functions. The function below, <code>loud</code>, accepts any number of children. It constructs and returns a <code>div</code> containing the uppercased <code>children</code>.</p><div style="width:60%; float:left; padding: 5px; border: 1px solid #00ace4; border-radius:10px; color: #333;"><div class="highlight"><pre><span class="p">(</span><span class="kd">defn </span><span class="nv">loud</span> <span class="p">[</span><span class="o">&amp;</span> <span class="nv">children</span><span class="p">]</span>
  <span class="p">(</span><span class="nf">div</span> <span class="ss">:css</span> <span class="p">{</span><span class="ss">:text-transform</span> <span class="s">"uppercase"</span><span class="p">}</span> <span class="nv">children</span><span class="p">))</span>

<span class="p">(</span><span class="nf">loud</span> <span class="s">"Lisp Can Do It"</span><span class="p">)</span>
</pre></div></div><div style="padding: 5px; width: 35%; float:right; background-color: #eee; border: 1px solid #aaa; border-radius:10px;"><div style="text-transform: uppercase; ">Lisp Can Do It</div></div></div><div style="padding-top:20px; clear:both;"><h4>A stateful custom element</h4><p>In this example, the <code>timer</code> function initializes a <a shape="rect" href="https://github.com/hoplon/javelin">Javelin</a> input cell and schedules it for periodic update using <code>window.setInterval</code>. The text of the returned <code>div</code> is attached reactively to <code>seconds</code> through a formula cell created using  <code>cell=</code>.</p><p><code>defelem</code> is a convenience macro for creating functions that handle attribute arguments naturally.</p><div style="width:60%; float:left; padding: 5px; border: 1px solid #00ace4; border-radius:10px; color: #333;"><div class="highlight"><pre><span class="p">(</span><span class="nf">defelem</span> <span class="nv">timer</span> <span class="p">[</span><span class="nv">attrs</span> <span class="nv">children</span><span class="p">]</span>
  <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">start</span>   <span class="p">(</span><span class="nb">or </span><span class="p">(</span><span class="ss">:start</span> <span class="nv">attrs</span><span class="p">)</span> <span class="mi">0</span><span class="p">)</span>
        <span class="nv">seconds</span> <span class="p">(</span><span class="nf">cell</span> <span class="nv">start</span><span class="p">)]</span>
    <span class="p">(</span><span class="nf">.setInterval</span> <span class="nv">js/window</span> <span class="o">#</span><span class="p">(</span><span class="nf">swap!</span> <span class="nv">seconds</span> <span class="nv">inc</span><span class="p">)</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">div</span> <span class="nv">attrs</span> <span class="p">(</span><span class="nf">cell=</span> <span class="p">(</span><span class="nb">str </span><span class="s">"Seconds Elapsed: "</span> <span class="nv">seconds</span><span class="p">)))))</span>

<span class="c1">;; our first timer will start at 0 and count up</span>
<span class="p">(</span><span class="nf">p</span> <span class="p">(</span><span class="nf">timer</span> <span class="ss">:style</span> <span class="s">"color: green;"</span> <span class="ss">:start</span> <span class="mi">0</span><span class="p">))</span>

<span class="c1">;; start 3 more timers, each with different starting values</span>
<span class="p">(</span><span class="nb">apply </span><span class="nv">ol</span> <span class="p">(</span><span class="nb">map </span><span class="nv">li</span> <span class="p">(</span><span class="nb">for </span><span class="p">[</span><span class="nv">r</span> <span class="p">(</span><span class="nb">range </span><span class="mi">1</span> <span class="mi">4</span><span class="p">)]</span> <span class="p">(</span><span class="nf">timer</span> <span class="ss">:start</span> <span class="nv">r</span><span class="p">))))</span>
</pre></div></div><div style="padding: 5px; width: 35%; float:right; background-color: #eee; border: 1px solid #aaa; border-radius:10px;"><p></p><div style="color: green;" start="0">Seconds Elapsed: 0</div><ol><li><div start="1">Seconds Elapsed: 1</div></li><li><div start="2">Seconds Elapsed: 2</div></li><li><div start="3">Seconds Elapsed: 3</div></li></ol></div></div><div style="padding-top:20px; clear:both;fd"><h4>An application</h4><p>In this final example, <code>todo-list</code> is a function that returns an instance of a simple todo list application. The application responds to user input by updating input cell values when <a shape="rect" href="https://en.wikipedia.org/wiki/DOM_events">DOM events</a> occur.</p><p>The <code>:change</code> event on the text input is attached to a function that updates the <code>new-item</code> input cell as keystrokes occur.</p><p>The <code>:click</code> event on the button is attached to a function that appends the value of <code>new-item</code> to the end of <code>todo-items</code> inside a <code>dosync</code>. <code>dosync</code> is a transactional construct that suspends the propagation of new values through the cell graph while updating multiple cells.</p><p><code>todo-items</code> are rendered as <code>li</code> elements using the <code>loop-tpl</code> macro. <code>loop-tpl</code> efficiently maps dynamically-sized collections to DOM nodes.</p><div style="width:60%; float:left; padding: 5px; border: 1px solid #00ace4; border-radius:10px; color: #333;"><div class="highlight"><pre><span class="p">(</span><span class="nf">defelem</span> <span class="nv">todo-list</span> <span class="p">[{</span><span class="ss">:keys</span> <span class="p">[</span><span class="nv">title</span><span class="p">]}</span> <span class="nv">_</span><span class="p">]</span>
  <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">todo-items</span> <span class="p">(</span><span class="nf">cell</span> <span class="p">[])</span>
        <span class="nv">new-item</span>   <span class="p">(</span><span class="nf">cell</span> <span class="s">""</span><span class="p">)]</span>
    <span class="p">(</span><span class="nf">div</span>
      <span class="p">(</span><span class="nf">h3</span> <span class="p">(</span><span class="nb">or </span><span class="nv">title</span> <span class="s">"TODO"</span><span class="p">))</span>
      <span class="p">(</span><span class="nf">ul</span>
        <span class="p">(</span><span class="nf">loop-tpl</span> <span class="ss">:bindings</span> <span class="p">[</span><span class="nv">todo</span> <span class="nv">todo-items</span><span class="p">]</span>
          <span class="p">(</span><span class="nf">li</span> <span class="nv">todo</span><span class="p">)))</span>
      <span class="p">(</span><span class="nf">input</span> <span class="ss">:type</span> <span class="s">"text"</span>
             <span class="ss">:value</span> <span class="nv">new-item</span>
             <span class="ss">:change</span> <span class="o">#</span><span class="p">(</span><span class="nf">reset!</span> <span class="nv">new-item</span> <span class="o">@</span><span class="nv">%</span><span class="p">))</span>
      <span class="p">(</span><span class="nf">button</span> <span class="ss">:click</span> <span class="o">#</span><span class="p">(</span><span class="nf">dosync</span>
                       <span class="p">(</span><span class="nf">swap!</span> <span class="nv">todo-items</span> <span class="nb">conj </span><span class="o">@</span><span class="nv">new-item</span><span class="p">)</span>
                       <span class="p">(</span><span class="nf">reset!</span> <span class="nv">new-item</span> <span class="s">""</span><span class="p">))</span>
        <span class="p">(</span><span class="nf">text</span> <span class="s">"Add #~{(inc (count todo-items))}"</span><span class="p">)))))</span>

<span class="p">(</span><span class="nf">todo-list</span> <span class="ss">:title</span> <span class="s">"TODO List"</span><span class="p">)</span>
</pre></div></div><div style="padding: 5px; width: 35%; float:right; background-color: #eee; border: 1px solid #aaa; border-radius:10px;"><div><h3>TODO List</h3><ul style="margin-left: 20px;"></ul><input type="text"><button type="submit">Add #1</button></div></div></div></div></div></div></div></div></main><div class="mention"><div class="ui-cols"><div class="ui-col-10 ui-skip-1"><img src="/images/logos/adzerk.png" alt="Adzerk"><blockquote><strong>Made at <a shape="rect" href="http://adzerk.com">Adzerk</a></strong> | <em><a shape="rect" href="http://adzerk.com">Ad serving infrastructure</a> for awesome companies</em></blockquote></div></div></div><footer><div class="ui-cols"><div class="ui-col-10 ui-skip-1"><div class="footer-links"><a shape="rect" class="network github" href="http://github.com/hoplon">Adzerk on Github</a><a shape="rect" href="https://github.com/tailrecursion/hoplon.io">Site Source</a></div><div class="footer-privacy"><small>Copyright © 2015 <a shape="rect" href="http://tailrecursion.com/~alan/">Alan Dipert</a>, <a shape="rect" href="https://github.com/micha">Micha Niskin</a>, <a shape="rect" href="https://github.com/somegoodpixels">Joshua Smith</a></small></div></div></div></footer></div><script type="text/javascript" src="index.html.js"></script></body></html>